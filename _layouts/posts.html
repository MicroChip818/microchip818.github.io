<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="description" content="Learning programming the fun and interactive way with coding projects, exercises, and quick tips.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }} | Code Outside the Box</title>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  </head>
  <body>
    <header>
      <nav>
        <a href="https://microchip818.github.io/index.html" class="nav_links">Homepage</a>
        <a href="https://microchip818.github.io/about.html" class="nav_links">About Me</a>
        <a href="https://github.com/microchip818" class="nav_links">GitHub</a>
      </nav>
      <p class="blog_name">Code Outside the Box</p>
      <p class="tagline">Learning about programming, the fun and interactive way.</p>
    </header>
    <hr>
    <div class="main_content">
      <main>
        <article>
          <h1>{{ page.title }}</h1>
          <p class="post_meta">
            By {{ page.author }} | 
            <time class="js-date"
              datetime="{{ page.date | date_to_xmlschema }}">
              {{ page.date | date: "%B %d, %Y at %I:%M %p" }}
            </time>
            
            {% if page.updated and page.updated > page.date %}
              <br>
              Last updated:
              <time class="js-date"
                datetime="{{ page.updated | date_to_xmlschema }}">
                {{ page.last_updated | date: "%B %d, %Y at %I:%M %p" }}
              </time>
            {% endif %}
          </p>
          <p class="post_categories">
            {% for category in page.categories %}
              <a href="{{ '/categories/' | append: category | downcase | relative_url }}">{{ category }}</a>{% if forloop.last == false %}, {% endif %}
              {% endfor %}
          </p>
          <nav class="table-of-contents">
            <h2>Table of Contents</h2>
            <ul id="toc"></ul>
          </nav>
          {{ content }}
        </article>
        <section id="comments">
          <h2>Comments</h2>
          <script src="https://utteranc.es/client.js"
            repo="MicroChip818/microchip818.github.io"
            issue-term="url"
            theme="github-light"
            crossorigin="anonymous"
            async>
          </script>
        </section>
      </main>
      <footer>
        <p>Â© 2025 Code Outside the Box</p>
      </footer>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        document.querySelectorAll("time.js-date").forEach(el => {
          const iso = el.getAttribute("datetime");
          if (!iso) return;

          const date = new Date(iso);

          el.textContent = date.toLocaleString(undefined, {
            year: "numeric",
            month: "long",
            day: "numeric",
            hour: "numeric",
            minute: "2-digit",
            hour12: true
          });
        });
      });
    </script>
    <script>
    document.addEventListener("DOMContentLoaded", function () {
      const toc = document.getElementById("toc");
      const headings = document.querySelectorAll("article h2, article h3");

      if (headings.length === 0) {
        document.querySelector(".table-of-contents").style.display = "none";
        return;
      }

      headings.forEach(heading => {
        const id = heading.textContent.replace(/\s+/g, "-").toLowerCase();
        heading.id = id;

        const li = document.createElement("li");

        if (heading.tagName === "H3") {
          li.style.marginLeft = "20px";
        }

        const a = document.createElement("a");
        a.href = "#" + id;
        a.textContent = heading.textContent;

        li.appendChild(a);
        toc.appendChild(li);
      });
    });
    </script>
  </body>
</html>
